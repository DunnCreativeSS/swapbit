<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://tradeitforweed.io/steem.min.js"></script>

    <!-- COMMON TAGS -->
  <meta charset="utf-8">
  <title>SwapBit• Instant Coin Swaps</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../../assets/img/favicon.png">
  <!-- Search Engine -->
  <meta name="description" content="Exchange coins you know for coins you love easily with SwapBit. No KYC. Instant Coins. ">
  <meta name="image" content="../../assets/img/social.jpg">
  <!-- Schema.org for Google -->
  <meta itemprop="name" content="SwapBit• Instant Coin Swaps">
  <meta itemprop="description" content="Exchange coins you know for coins you love easily with SwapBit. No KYC. Instant Coins. ">
  <meta itemprop="image" content="../../assets/img/social.jpg">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="SwapBit• Instant Coin Swaps">
  <meta name="twitter:description" content="Exchange coins you know for coins you love easily with SwapBit. No KYC. Instant Coins. ">
  <meta name="twitter:site" content="@swapbit">
  <meta name="twitter:creator" content="@swapbit">
  <meta name="twitter:image:src" content="../../assets/img/social.jpg">
  <!-- Open Graph general (Facebook, Pinterest & Google+) -->
  <meta name="og:title" content="SwapBit• Instant Coin Swaps">
  <meta name="og:description" content="Exchange coins you know for coins you love easily with SwapBit. No KYC. Instant Coins. ">
  <meta name="og:image" content="../../assets/img/social.jpg">
  <meta name="og:url" content="https://swapbit.co">
  <meta name="og:site_name" content="SwapBit• Instant Coin Swaps">
  <meta name="og:type" content="website">
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <!-- Nucleo Icons -->
  <link href="../../assets/css/nucleo-icons.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="../../assets/css/blk-design-system.css?v=1.0.0" rel="stylesheet" />
  <link href="../../assets/demo/demo.css" rel="stylesheet" />
  <link href="../../assets/css/custom.css" rel="stylesheet" />
      <script src="../../assets/js/core/jquery.min.js" type="text/javascript"></script>
</head>

<body class="index-page">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top navbar-transparent " color-on-scroll="100">
    <div class="container">
      <div class="navbar-translate">
        <a class="navbar-brand" href="/" target="_blank">
          <span><img class="logo-space" src="../../assets/img/logo-white.svg"/>  SwapBit•</span> Instant Coin Swaps
        </a>
        <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-bar bar1"></span>
          <span class="navbar-toggler-bar bar2"></span>
          <span class="navbar-toggler-bar bar3"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse justify-content-end" id="navigation">
        <div class="navbar-collapse-header">
          <div class="row">
            <div class="col-6 collapse-brand">
              <a>
                SwapBit•
              </a>
            </div>
            <div class="col-6 collapse-close text-right">
              <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                <i class="tim-icons icon-simple-remove"></i>
              </button>
            </div>
          </div>
        </div>
        <ul class="navbar-nav">
          <li class="nav-item p-0">
            <a class="nav-link" rel="tooltip" title="Follow us on Twitter" data-placement="bottom" href="#" target="_blank">
              <i class="fab fa-twitter"></i>
              <p class="d-lg-none d-xl-none">Twitter</p>
            </a>
          </li>
          <li class="dropdown nav-item">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
              <i class="fa fa-cogs d-lg-none d-xl-none"></i> Getting started
            </a>
            <div class="dropdown-menu dropdown-with-icons">
              <a href="#" class="dropdown-item">
                <i class="tim-icons icon-bullet-list-67"></i> FAQ
              </a>
              <a href="#" class="dropdown-item">
                <i class="tim-icons icon-coins"></i> ADD COIN
              </a>
              <a href="#" class="dropdown-item">
                <i class="tim-icons icon-email-85"></i>CONTACT US
              </a>
              <a href="#" class="dropdown-item">
                <i class="tim-icons icon-single-02"></i>ABOUT
              </a>
              <a href="#" class="dropdown-item">
                <i class="tim-icons icon-paper"></i>LICENSE
              </a>
            </div>
          </li>
      <!--    <li class="nav-item">
            <a class="nav-link btn btn-default d-none d-lg-block" href="javascript:void(0)" onclick="scrollToDownload()">
              <i class="tim-icons icon-cloud-download-93"></i> Download
            </a>
          </li> -->
        </ul>
      </div>
    </div>
  </nav>
  <!-- End Navbar -->
  <div class="wrapper">
    <div class="page-header header-filter">
      <div class="squares square1"></div>
      <div class="squares square2"></div>
      <div class="squares square3"></div>
      <div class="squares square4"></div>
      <div class="squares square5"></div>
      <div class="squares square6"></div>
      <div class="squares square7"></div>
      <div class="container">
        <div class="content-center brand">
          <h1 class="h1-seo">Swap<span class="txt-rotate" data-period="2000" data-rotate='[ "BIT", "ETH", "LTC", "DASH" ]'></span>•</h1>
          <h3>No Login. No KYC. Instant Coins.</h3>
          <div class="col-lg-12 col-sm-12 px-2 py-2">
            <div class="card card-stats downer bg-default">
              <div class="card-body">

                  <div style="display: flex;">
                    <div class="container pay-container">
                      <div class="row">
                        <div class="col-5 flexing">

                          <div id="coins" class="coins">
                          </div>

                          <div class="input-box">
                            <span class="input-title">Pay With</span>
                            <div  class="coins-input">

                              <select id="input"  onchange="outputDo();" name="payWith">
                                <option selected="selected">ETH</option>
                                <option>BTC</option>
                                <option>LTC</option>
                                <option>DASH</option>
                                <option>BCH</option>
                                <option>BTG</option>
                              </select>



                          <!--    <span class="dropdowner">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 14" data-radium="true" style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;"><path d="M0 .093l12 13.472L24 0H0z"></path></svg>
                              </span> -->
                            </div>
                          </div>
                          <input class="coin-input" id="inputAmt" onchange="inputDo();" type="number" min="0" placeholder="Amount" maxlength="Infinity" pattern="[0-9.]*"  value="" step="any">
                        </div>

                        <span class="col-1" style="display: flex; position: relative; align-items: center; justify-content: center; text-align: center; color: rgb(18, 149, 229);">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 10" data-radium="true" style=" fill: currentcolor; width: 1em; height: 1em;"><path d="M15.766 4.423l-3.2-3.27a.788.788 0 0 0-1.13 0 .83.83 0 0 0 0 1.156l1.833 1.873H.8a.81.81 0 0 0-.8.817c0 .45.359.817.8.817h12.469l-1.836 1.876a.83.83 0 0 0 0 1.155c.157.16.677.444 1.13 0l3.203-3.27a.83.83 0 0 0 0-1.154z"></path></svg>
                        </span>

                        <div class="col-5 flexing">

                          <div id="coins-receive" class="coins ">
                          </div>

                          <div class="input-box" >
                            <span class="input-title">Receive</span>
                            <div class="coins-input">

                              <select id="output" onchange='inputDo();'  name="receive">
                                <option selected="selected">EOS</option>
                                <option>BTS</option>
                                <option>STEEM</option>
                                <option>WAX</option>
                                <option>WLS</option>
                                <option>SMOKE</option>
                              </select>


                            </div>
                          </div>
                          <input class="coin-input" id="outputAmt" onchange ="outputDo();"type="number" min="0" placeholder="Amount" maxlength="Infinity" pattern="[0-9.]*"  value="" step="any">
                        </div>
                      </div>
                    </div>

                    <div class="col-12 col-lg-3">
                      <a data-toggle="modal" data-target="#convertModal" class="convert-button">
                        <span class="convert-button-span">Convert</span>
                      </a>
                    </div>
                  </div>
                  <div id="resp"></div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Form Modal -->
    <div class="modal fade modal-black" id="convertModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header justify-content-center">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              <i class="tim-icons icon-simple-remove text-white"></i>
            </button>
            <div class="text-muted text-center ml-auto mr-auto">
              <h3 class="mb-0">Convert</h3>
            </div>
          </div>
          <div class="modal-body">
            <form role="form">
              <div class="form-group mb-3">
                Pay With:
                <div class="input-group input-group-alternative">
                  <div id="coins-convert" class="coins coins-convert"></div>
                  <input id="input2" style="color:white;" disabled class="form-control" type="number" min="0" placeholder="Enter Amount" maxlength="Infinity" pattern="[0-9.]*"  value="" step="any">
                </div>
              </div>
              <div class="form-group mb-3">
                Receive:
                <div class="input-group input-group-alternative">
                  <div id="coins-convert-receive" class="coins coins-convert"></div>
                  <input id="output2" style="color:white;"  disabled class="form-control" type="number" min="0" placeholder="Enter Amount" maxlength="Infinity" pattern="[0-9.]*"  value="" step="any">
                </div>
              </div>
              <div class="form-group">
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="tim-icons icon-key-25"></i>
                    </span>
                  </div>
                  <input class="form-control" placeholder="Receiving Address" type="text">
                </div>
              </div>
              <div class="form-check mt-3">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" unchecked>
                  <span class="form-check-sign"></span>
                  I confirm I understand the terms and conditions.
                </label>
              </div>
              <div class="text-center">
                <button type="button" class="btn btn-info my-4" onclick="doSubmit()">Convert</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!--  End Modal -->
    </div> -->
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <h1 class="title">SwapBit•</h1>
          </div>
          <div class="col-md-3">
            <ul class="nav">
              <li class="nav-item">
                <a href="./index.html" class="nav-link">
                  Home
                </a>
              </li>
              <li class="nav-item">
                <a href="./app.html" class="nav-link">
                  SwapBit
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  Add A Coin
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  FAQ
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <ul class="nav">
              <li class="nav-item">
                <a href="#" class="nav-link">
                  Contact Us
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  About Us
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  T's & C's
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  License
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <h3 class="title">Follow us:</h3>
            <div class="btn-wrapper profile">
              <a target="_blank" href="#" class="btn btn-icon btn-neutral btn-round btn-simple" data-toggle="tooltip" data-original-title="Follow us">
                <i class="fab fa-twitter"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script>

  let before = "ETH"
  $("#coins").addClass( before );
  $("#coins-convert").addClass( before );

  $( "#payWith" )
    .change(function () {
      var str = "";

      $( "#payWith option:selected" ).each(function() {
      str += $( this ).text() + " ";
      });

      $("#coins").removeClass( before );
      $("#coins").addClass( str );

      $("#coins-convert").removeClass( before );
      $("#coins-convert").addClass( str );

      before = str
    })
    .change();


  let beforereceive = "EOS"
  $("#coins-receive").addClass( beforereceive );
  $("#coins-convert-receive").addClass( beforereceive );

  $( "#receive" )
    .change(function () {
      var strreceive = "";

      $( "#receive option:selected" ).each(function() {
      strreceive += $( this ).text() + " ";
      });

      $("#coins-receive").removeClass( beforereceive );
      $("#coins-receive").addClass( strreceive );

      $("#coins-convert-receive").removeClass( beforereceive );
      $("#coins-convert-receive").addClass( strreceive );

      beforereceive = strreceive
    })
    .change();

  </script>
  <!--   Core JS Files   -->
  <script src="../../assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="../../assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="../../assets/js/core/bootstrap.min.js" type="text/javascript"></script>
  <script src="../../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="../../assets/js/plugins/bootstrap-switch.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="../../assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!-- Chart JS -->
  <script src="../../assets/js/plugins/chartjs.min.js"></script>
  <!-- Rotating Text JS -->
  <script src="../../assets/js/plugins/typing.js"></script>
  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="../../assets/js/plugins/moment.min.js"></script>
  <script src="../../assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
  <!-- Black Dashboard DEMO methods, don't include it in your project! -->
  <script src="../../assets/demo/demo.js"></script>
  <!-- Control Center for Black UI Kit: parallax effects, scripts for the example pages etc -->
  <script src="../../assets/js/blk-design-system.min.js?v=1.0.0" type="text/javascript"></script>
  <script>
    $(document).ready(function() {
      blackKit.initDatePicker();
      blackKit.initSliders();
    });

    function scrollToDownload() {

      if ($('.section-download').length != 0) {
        $("html, body").animate({
          scrollTop: $('.section-download').offset().top
        }, 1000);
      }
    }
  </script>
<script>

function ajax_get(url, callback) {
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            try {
                var data = JSON.parse(xmlhttp.responseText);
            } catch(err) {
                console.log(err.message + " in " + xmlhttp.responseText);
                return;
            }
            callback(data);
        }
    };
 
    xmlhttp.open("GET", url, true);
    xmlhttp.send();
}
var fees = 0.95;
$( document ).ready(function() {
if ('<%- (address) %>'.length>2){
console.log('address')
    $('#resp').html('Send <% input %> to <% address %>!');
     } 

})
function doSubmit(){
          var input = $('#input').find(":selected").text();
        var output = $('#output').find(":selected").text();
    $.post("/form2",
    {
        input: input,
        output: output,
        account: $('#account').val()
    }, 
    function(data, status){
        console.log(data.address + data.input);
           $('#convertModal').modal('toggle');

        $('#resp').html('Send ' + data.input + ' to: ' + data.address + '!');

    });
}
function inputDo(){

        ajax_get('https://api.coinmarketcap.com/v2/listings/', function(data3) {
        data3 = (data3.data)
        var input = $('#input').find(":selected").text();
        var output = $('#output').find(":selected").text();
        console.log(input)
        console.log(output)
        if (output == "SMOKE"){
            steem.api.getAccounts(['tfw.club'], function(err, response){
                $('#resp').html(response[0].balance + ' available to trade!');
            });
        }
        var amt = $('#inputAmt').val()
        console.log(input)
        for (var d in data3){   
            if (data3[d].symbol == output){
            console.log(data3[d].symbol);
            console.log(output);
            console.log(data3[d].id);   
ajax_get('https://api.coinmarketcap.com/v2/ticker/' + data3[d].id + '/', function( data) {
            data = (data)
console.log(data)
    var price = (data.data.quotes.USD.price);
    
    ajax_get('https://api.coinmarketcap.com/v2/listings/', function( data3) {
        data3 = (data3.data)
        for (var d in data3){
            if (data3[d].symbol == input){
                                
                    ajax_get('https://api.coinmarketcap.com/v2/ticker/' + data3[d].id + '/', function(data2) {
                        data2 = (data2);

                    amt = (data2.data.quotes.USD.price) * amt;
                    console.log(data2.data.quotes.USD.price)
                    console.log(data2.data)
                    var toGet = (amt / price) * fees;
                    $('#input2').val($('#inputAmt').val())
                    ajax_get('/prices?amt=' + toGet + '&coin=' + output, function(data4){
                      console.log(data4)
                       $('#output2').val(data4.p)
                         $('#outputAmt').val(data4.p.toString().substr(0, data4.p.toString().indexOf('.')+3));

                    })
                    //$('#output2').val(toGet)
                });
            }
        }
    });
    

});


}
}
});
}

function outputDo(){

        ajax_get('https://api.coinmarketcap.com/v2/listings/', function(data3) {
        data3 = (data3.data)
        console.log(data3)
        var input = $('#input').find(":selected").text();
        var output = $('#output').find(":selected").text();
        if (output == "SMOKE"){
            steem.api.getAccounts(['tfw.club'], function(err, response){
                $('#resp').html(response[0].balance + ' available to trade!');
            });
        }
        var amt = $('#outputAmt').val()
        console.log(input)
        for (var d in data3){   
            if (data3[d].symbol == input){
            console.log(data3[d].symbol);
            console.log(input);
            console.log(data3[d].id);   
ajax_get('https://api.coinmarketcap.com/v2/ticker/' + data3[d].id + '/', function( data) {
            data = (data)
console.log(data)
    var price = (data.data.quotes.USD.price);
    
    ajax_get('https://api.coinmarketcap.com/v2/listings/', function( data3) {
        data3 = (data3.data)
        for (var d in data3){
            if (data3[d].symbol == output){
                                
                    ajax_get('https://api.coinmarketcap.com/v2/ticker/' + data3[d].id + '/', function(data2) {
                        data2 = (data2);

                    amt = (data2.data.quotes.USD.price) * amt;
                    console.log(data2.data.quotes.USD.price)
                    console.log(data2.data)
                    var toReceive = (amt / price) * fees;
                    $('#inputAmt').val(toReceive.toString().substr(0, toReceive.toString().indexOf('.')+8));
                    $('#input2').val(toReceive)
                    $('#output2').val($('#outputAmt').val())
                });
            }
        }
    });
    

});


}
}
});
}
</script>
</body>

</html>
